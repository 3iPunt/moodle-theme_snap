define(["jquery","core/ajax","theme_snap/ajax_notification","core/templates"],function(a,b,c,d){var e=this;return e.init=function(b){var c=encodeURIComponent(window.location.href.replace(M.cfg.wwwroot,""));d.render("theme_snap/return_to_normal_role",{switchroleurl:M.cfg.wwwroot+"/course/switchrole.php?id="+b+"&sesskey="+M.cfg.sesskey+"&switchrole=0&returnurl="+c}).then(function(b){a("#admin-menu-trigger").parent().append(b)})},{init:e.init}});