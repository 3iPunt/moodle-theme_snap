define(["jquery","core/ajax","core/notification","core/templates"],function(a,b,c,d){return function(){var e=function(b,e){d.render("theme_snap/course_cards",b).done(function(b){a(e).replaceWith(b)}).fail(c.exception)};a("#fixy-my-courses").on("click",".favoritetoggle",function(d){if(d.preventDefault(),d.stopPropagation(),!a(this).hasClass("ajaxing")){a(this).addClass("ajaxing");var f="true"===a(this).attr("aria-pressed")?0:1,g=a(this).parents(".courseinfo")[0],h=a(g).data("shortname");b.call([{methodname:"theme_snap_course_card",args:{courseshortname:h,favorited:f},done:function(b){e(b,g),a(g).removeClass("ajaxing")},fail:function(){a(g).removeClass("ajaxing"),c.exception(response)}}],!0,!0)}})}});